<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title class="ion-text-center"> Ejemplo notificaciones </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <form (ngSubmit)="sendNotification()">
    <ion-item>
      <ion-input
        name="title"
        label="Titulo notificacion"
        [(ngModel)]="notification.title"
      />
    </ion-item>

    <ion-item>
      <ion-textarea
        name="body"
        label="Cuerpo notificacion"
        [(ngModel)]="notification.body"
      ></ion-textarea>
    </ion-item>

    <ion-item>
      <ion-input
        name="url"
        type="url"
        inputmode="url"
        label="URL notificacion"
        [(ngModel)]="notification.url"
      />
    </ion-item>

    <ion-item>
      <ion-label>Fecha envio</ion-label>
      <ion-datetime-button slot="end" datetime="datetime" />

      <ion-modal [keepContentsMounted]="true">
        <ng-template>
          <ion-datetime
            id="datetime"
            name="datetime"
            [(ngModel)]="notification.date"
          />
        </ng-template>
      </ion-modal>
    </ion-item>

    <ion-item lines="none">
      <ion-button type="submit" slot="end">Enviar</ion-button>
    </ion-item>
  </form>

  <ion-card>
    <ion-card-header>
      <ion-card-title>Latest foreground notification</ion-card-title>
    </ion-card-header>
    @if (notificationService.latestForegroundNotification()) {
    <ion-card-content>
      {{notificationService.latestForegroundNotification() | json}}
    </ion-card-content>
    }@else {
    <ion-card-content> No data </ion-card-content>
    }
  </ion-card>
  <!--  -->
  <ion-card>
    <ion-card-header>
      <ion-card-title>Latest clicked notification</ion-card-title>
    </ion-card-header>
    @if (notificationService.latestClickedNotification()) {
    <ion-card-content>
      {{notificationService.latestClickedNotification() | json}}
    </ion-card-content>
    }@else {
    <ion-card-content> No data </ion-card-content>
    }
  </ion-card>
</ion-content>
